/** Copyright 2015 - 2020 The MathWorks, Inc. *///>>built//>>built

require({cache:{"richcontent_preview_plugin/index":function(){define(["dojo/_base/declare","dojo/Deferred","./_impl/RichContentPreviewPlugin"],function(g,h,f){return{initialize:function(b){b=new h;var c=g([f])();b.resolve({exports:{richContentPreviewPlugin:c}});return b.promise}}})},"richcontent_preview_plugin/_impl/RichContentPreviewPlugin":function(){define("dojo/_base/declare dojo/on dojo/Deferred require mw-utils/Utils ./PreviewServerRequest dojo/domReady!".split(" "),function(g,h,f,b,c,a){var d=
{};return g([],{constructor:function(c){this._previewServerRequest=new a},getTitle:function(){},_getTitleImpl:function(a){},getUpperRightMetadata:function(){},_getUpperRightMetadataImpl:function(a){},getPrimaryMetadata:function(){},_getPrimaryMetadataImpl:function(a){},getSecondaryMetadata:function(){},_getSecondaryMetadataImpl:function(a){},getRichContent:function(){return{getRichContentFcn:this._getRichContentImpl.bind(this),overridePriority:3}},_getRichContentImpl:function(a){return{richContent:this._getImageImpl(a),
isWidget:!1}},_getWidgetImpl:function(a){},_getImageImpl:function(a){var b=a.path+"?v\x3d"+a.modifiedUtc;if(d[b])return this._createImageElementFromUrl(d[b]);var l=c.generateUuid()+(new Date).getTime(),k=this._previewServerRequest.createRequest("matlab.ui.internal.URLUtils.getURLToUserFile",[a.path],1);return this._previewServerRequest.sendRequest(k,"getPreviewUrlForEnvironmentInfo: "+l).then(function(c){c=this._previewServerRequest.getWorkerRoutingHost()+c+"?v\x3d"+a.modifiedUtc;d[b]=c;return this._createImageElementFromUrl(c)}.bind(this))},
_createImageElementFromUrl:function(a){var c=document.createElement("img");c.src=a;return c},getRichContentLabel:function(){},_getRichContentLabelImpl:function(a){}})})},"mw-utils/Utils":function(){define(["dojo/_base/lang","dojo/_base/window","mw-utils/deprecation"],function(g,h,f){return{generateUuid:function(){return"xxxxxxxx".replace(/[xy]/g,function(b){var c=16*Math.random()|0;return("x"===b?c:c&3|8).toString(16)}).toUpperCase()},isImageData:function(b){return!!b&&(h.global.ImageData&&b instanceof
h.global.ImageData||b.hasOwnProperty("width")&&b.hasOwnProperty("height")&&b.hasOwnProperty("data"))},isArray:function(b){f.deprecated({deprecated:{module:"MW/utils/Utils",method:"isArray"},geckNumber:1444368});return Array.isArray(b)},getArrayLength:function(b){var c=0;if(!g.isArray(b))return!1;b.forEach(function(a){a&&(c+=1)});return c},isWhitespace:function(b){return/^\s+$/.test(b)},removeSurroundingNewLines:function(b){for(;"\n"===b.charAt(0);)b=b.substring(1);for(;"\n"===b.charAt(b.length-1);)b=
b.substring(0,b.length-1);return b},getFirstUniqueElement:function(b,c){var a=null;c.some(function(c){if(-1===b.indexOf(c))return a=c,!0});return a},unionOfWordSets:function(b,c,a){b=this._stringToArray(b);c=this._stringToArray(c);b=this.unionOfArrays(b,c);return a?b.join(" "):b},intersectionOfWordSets:function(b,c,a){b=this._stringToArray(b);c=this._stringToArray(c);b=this.intersectionOfArrays(b,c);return a?b.join(" "):b},differenceOfWordSets:function(b,c,a){b=this._stringToArray(b);c=this._stringToArray(c);
b=this.unique(this.differenceOfArrays(b,c));return a?b.join(" "):b},unionOfArrays:function(b,c){return this.unique(b.concat(c))},intersectionOfArrays:function(b,c){return this.nonunique(b.concat(c))},differenceOfArrays:function(b,c){if(void 0===window.Map)return this._legacyDifferenceOfArrays(b,c);var a,d=new Map,k=[];for(a=0;a<c.length;a++)d.set(c[a],null);for(a=0;a<b.length;a++){var e=b[a];(c=d.has(e))||k.push(e)}return k},_legacyDifferenceOfArrays:function(b,c){return this.unique(b.filter(function(a){return-1===
c.indexOf(a)}))},unique:function(b){return b.filter(function(c,a){return b.indexOf(c)===a})},nonunique:function(b){return this.unique(b.filter(function(c,a){return b.indexOf(c)!==a}))},arrayEquals:function(b,c,a){if(b===c)return!0;if(b.length!==c.length)return!1;a||(a=function(a,c){return a===c});for(var d=0,k=b.length;d<k;d++)if(!a(b[d],c[d]))return!1;return!0},removeEmptyElements:function(b){return b.filter(function(c){return!(""===c||null===c||void 0===c)})},_stringToArray:function(b){return this._isString(b)?
this.removeEmptyElements(b.split(" ")):b},_isString:function(b){return"string"===typeof b||b instanceof String}}})},"mw-utils/deprecation":function(){var g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"===typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g};define(["dojo/_base/config","mw-log/Log"],function(h,f){var b={deprecated:function(c){if((h.isDebug||window.showDeprecationsAsErrors)&&this._isConfigValid(c)){var a=
window.showDeprecationsAsErrors||c.deprecationLevel===this.ERROR?this.ERROR:this.WARN;var b="DEPRECATED: ";c.deprecated&&(b+=c.deprecated.module,c.deprecated.method&&(b+="."+c.deprecated.method+"()"),b+=".");c.replacement&&(b+=" Use "+c.replacement.module,c.replacement.method&&(b+="."+c.replacement.method+"()"),b+=" instead.");c.removalVersion&&(b+=" Will be removed in version: "+c.removalVersion+".");c.geckNumber&&(b+=" Please use g"+c.geckNumber+" to track latest information regarding this deprecation");
c.additionalInformation&&(b+=" "+c.additionalInformation);f[a](b)}},_isConfigValid:function(c){var a=!!c.deprecated&&"object"===g(c.deprecated)&&c.deprecated.hasOwnProperty("module");c.replacement&&(a=a&&"object"===g(c.replacement)&&c.replacement.hasOwnProperty("module"));c.geckNumber&&(a=a&&"number"===typeof c.geckNumber);a||f.error("Supplied deprecationConfig properties are not valid. Please refer to http://inside.mathworks.com/wiki/Web_Widgets_Deprecation_API for right API");return a}};Object.defineProperties(b,
{WARN:{value:"warn",enumerable:!0},ERROR:{value:"error",enumerable:!0}});return b})},"mw-log/Log":function(){var g=function(){function g(f,b){for(var c=0;c<b.length;c++){var a=b[c];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(f,a.key,a)}}return function(f,b,c){b&&g(f.prototype,b);c&&g(f,c);return f}}();define(["mw-log/impl/Modes","mw-log/impl/Levels","mw-log/impl/Backlog","mw-log/util/LogUtils"],function(h,f,b,c){var a=b.create(100),d={},k=0,e=
f.DEBUG,l=h.DEVELOPMENT,u=[],n={};return new (function(){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");null!=n[a]?n.DEFAULT.error("a logger with the name '"+a+"' already exists - change the name to prevent interference"):(c.makeReadOnlyProperty(this,"name",a),n[this.name]=this,this._timers={},this._threshold=f.DEBUG,this._showTimestamp=!0,c.makeReadOnlyProperty(this,"modes",h),c.makeReadOnlyProperty(this,"levels",f))}g(b,[{key:"_shouldLog",value:function(a){return e>
a&&this._threshold>a}},{key:"_nameAndTime",value:function(){var a=[];"DEFAULT"!==this.name&&a.push(this.name);this._showTimestamp&&a.push(c.currentTimeString());return a}},{key:"table",value:function(b){if(this._shouldLog(3)){var m={namespace:this.name,type:"table",message:[b],time:new Date};a.add(m);c.printToConsole("log",this._nameAndTime(),l);c.printToConsole("table",[b],l);c.execCallbacks(d,m)}}},{key:"trace",value:function(){if(this._shouldLog(3)){var b={namespace:this.name,type:"trace",message:null,
time:new Date},e=Error().stack.split("\n");for("Error"===e[0]&&e.shift();e[0].includes("Log.js")||e[0].includes("logger.trace")||"trace"===e[0];)e.shift();e=e.join("\n");b.message=[e];a.add(b);c.printToConsole("log",this._nameAndTime(),l);c.printToConsole("trace",[],l);c.execCallbacks(d,b)}}},{key:"time",value:function(a){this._shouldLog(3)&&(null==this._timers[a]?this._timers[a]=(new Date).getTime():this.warn('timer "'+a+'" already exists.'))}},{key:"timeEnd",value:function(b){if(this._shouldLog(3)){var e=
{namespace:this.name,type:"timeEnd",message:null,time:new Date};if(null!=this._timers[b]){var m=(new Date).getTime()-this._timers[b];e.message=[b+": "+m+"ms - timer ended"];a.add(e);c.printToConsole("log",this._nameAndTime().concat(e.message),l);c.execCallbacks(d,e);this._timers[b]=null}else this.warn('timer "'+b+"\" doesn't exist.")}}},{key:"_group",value:function(b,e){if(this._shouldLog(3)){e=e?"groupCollapsed":"group";var m={namespace:this.name,type:e,message:[b],time:new Date};u.push(b);a.add(m);
c.printToConsole(e,[b],l);c.execCallbacks(d,m)}}},{key:"groupCollapsed",value:function(a){this._group(a,!0)}},{key:"group",value:function(a){this._group(a,!1)}},{key:"groupEnd",value:function(){if(this._shouldLog(3)){var b=u.pop();b={namespace:this.name,type:"groupEnd",message:[b],time:new Date};a.add(b);c.printToConsole("groupEnd",[],l);c.execCallbacks(d,b)}}},{key:"assert",value:function(b,e){this._shouldLog(0)&&!b&&(b={namespace:this.name,type:"assert",message:["Assertion failed:",e],time:new Date},
a.add(b),c.printToConsole("assert",this._nameAndTime().concat(b.message),l),c.execCallbacks(d,b))}},{key:"_basicLogMethod",value:function(b,e,k){this._shouldLog(e)&&(e={namespace:this.name,type:b,message:k,time:new Date},k=this._nameAndTime().concat(k),a.add(e),c.printToConsole(b,k,l),c.execCallbacks(d,e))}},{key:"debug",value:function(a){var b=Array.prototype.slice.call(arguments);this._basicLogMethod("debug",4,b)}},{key:"log",value:function(a){var b=Array.prototype.slice.call(arguments);this._basicLogMethod("log",
3,b)}},{key:"dir",value:function(a){var b=Array.prototype.slice.call(arguments);this._basicLogMethod("dir",3,b)}},{key:"info",value:function(a){var b=Array.prototype.slice.call(arguments);this._basicLogMethod("info",2,b)}},{key:"warn",value:function(a){var b=Array.prototype.slice.call(arguments);this._basicLogMethod("warn",1,b)}},{key:"error",value:function(a){var b=Array.prototype.slice.call(arguments);this._basicLogMethod("error",0,b)}},{key:"addCallback",value:function(b,c){d[k]=b;c&&a.applyCallback(b);
b={};var l=k;b.remove=function(){delete d[l]};k++;return b}},{key:"createLogger",value:function(a){var c=new b(a);return c.name?c:n[a]}},{key:"threshold",get:function(){return this._threshold},set:function(a){this._threshold=b._sanitizeLevel(a)}},{key:"showTimestamp",get:function(){return this._showTimestamp},set:function(a){this._showTimestamp=!!a}},{key:"globalThreshold",get:function(){return e},set:function(a){e=b._sanitizeLevel(a)}},{key:"mode",get:function(){return l},set:function(a){l=b._sanitizeMode(a)}}],
[{key:"_sanitizeLevel",value:function(a){return"number"===typeof a?a:f.DEBUG}},{key:"_sanitizeMode",value:function(a){return-1<c.objectValues(h).indexOf(a)?a:h.development}}]);return b}())("DEFAULT")})},"mw-log/impl/Modes":function(){define([],function(){var g={DEVELOPMENT:"DEVELOPMENT",PRODUCTION:"PRODUCTION"};Object.freeze(g);return g})},"mw-log/impl/Levels":function(){define([],function(){var g={DEBUG:5,LOG:4,TABLE:4,TIME:4,DIR:4,INFO:3,WARN:2,ASSERT:1,ERROR:1};Object.freeze(g);return g})},"mw-log/impl/Backlog":function(){define(["mw-log/util/LogUtils"],
function(g){return{create:function(h){var f={},b=[];g.makeReadOnlyProperty(f,"size",h);var c=0;f.add=function(a){b[c]=a;c=(c+1)%f.size};f.applyCallback=function(a){var d=c+1;void 0===b[d]&&(d=0);for(var k=0;k<f.size&&void 0!==b[d];)a(b[d]),d=(d+1)%h,k++};return f}}})},"mw-log/util/LogUtils":function(){define(["mw-log/impl/Modes"],function(g){var h={objectValues:function(f){var b=[],c;for(c in f)b.push(f[c]);return b},makeReadOnlyProperty:function(f,b,c){Object.defineProperty(f,b,{value:c,writable:!1})},
execCallbacks:function(f,b){f=h.objectValues(f);for(var c in f)f[c](b)},currentTimeString:function(){var f=new Date;return f.toLocaleTimeString("en-US",{hour12:!1,hour:"numeric",minute:"numeric",second:"numeric"})+"."+f.getTime()%1E3},printToConsole:function(f,b,c){c===g.PRODUCTION&&"error"!==f||console[f].apply(console,b)}};return h})},"richcontent_preview_plugin/_impl/PreviewServerRequest":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/Deferred","mw-remote/Remote"],function(g,h,
f,b){return g([],{createRequest:function(b,a,d,k){return{function:b,arguments:a||[],nargout:d||0,priority:k||1}},sendRequest:function(c,a){b.registerResponseHandler("FEvalResponse:"+a,this._handleFEvalResponse,this);b.registerFaultHandler("FEvalResponse:"+a,this._handleFEvalFault,this);var d=new f;d.then(function(){b.deregisterResponseHandler("FEvalResponse:"+a);b.deregisterFaultHandler("FEvalResponse:"+a)});b.sendMessage({FEval:h.mixin({"function":"",arguments:[],nargout:0,dequeMode:"ppe",priority:1},
c)},d,a);return d.promise},_handleFEvalFault:function(b,a){a.reject(b[0].messageFaults[0].message)},_handleFEvalResponse:function(b,a){1===b.length?!0===b[0].isError?(a.reject(b[0].messageFaults[0].message),console.error(b[0].messageFaults[0].message)):a.resolve(b[0].results):a.reject("Recieved unexpected response")},getWorkerRoutingHost:function(){return b.getWorkerRoutingHost().replace(/\/$/,"")}})})},"mw-remote/Remote":function(){define("dojo/_base/lang dojo/aspect ./iframeproxy/IframeProxyClient ./impl/FaultManager ./impl/RequestManager ./impl/ResponseManager ./impl/Transaction ./impl/AutoDetectedTransaction ./RemoteEndPointsManager ./utils/SendMessageUtil ./UploadToWorker mw-log/Log ./serviceRegistryLookup!".split(" "),
function(g,h,f,b,c,a,d,k,e,l,u,n,v){var m={reset:function(){var w=[],q=new b,p=new a({faultManager:q}),r=new c({responseManager:p});m.faultManager=q;m.responseManager=p;m.requestManager=r;m._serviceRegistryLookup=v;m._uploadIframeProxyUrlParameters=["?computeToken\x3d","","\x26routingkey\x3d",""];var t=m.proxyClient=new f;m.createUploadIframeTarget=g.hitch(t,t.createUploadIframeTarget);m.cancelUpload=g.hitch(t,t.cancelUpload);e.setIframeProxyClientForEndPoint(e.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT,
t);e.setIframeProxyClientForEndPoint(e.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT,t);d.construct=function(a){a=a||{};e.getRoutingHost(e.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT)||m.setEndpoint();a.allowedMessages=w;a.sendMessage=m.sendMessage;a.computeSessionId=m.getComputeSessionId;return new k(a)};m.registerEndpointLevelFaultHandler=g.hitch(q,q.registerEndpointLevelFaultHandler);m.sendMessage=g.hitch(r,r.sendMessage);m.sendPayload=l.sendPayload;m.registerDefaultMessageFactory=g.hitch(r,
r.registerDefaultMessageFactory);m.deregisterDefaultMessageFactory=g.hitch(r,r.deregisterDefaultMessageFactory);m.registerResponseHandler=g.hitch(p,p.registerResponseHandler);m.deregisterResponseHandler=g.hitch(p,p.deregisterResponseHandler);m.registerFaultHandler=g.hitch(q,q.registerFaultHandler);m.deregisterFaultHandler=g.hitch(q,q.deregisterFaultHandler);m.registerTopLevelFaultHandler=g.hitch(q,q.registerTopLevelFaultHandler);m.deregisterTopLevelFaultHandler=g.hitch(q,q.deregisterTopLevelFaultHandler);
m.setServiceEndPoint=function(a,b,c){e.setRoutingHostAndRoutingKey(a,b,c)};m.setDirectXhrCommunicationState=function(a){e._setDirectXhrCommunicationState(a)};m.setServicePathSuffixForEndPoint=function(a,b){e.setPathSuffixForEndPoint(a,b)};m.ignoreTopLevelFault=m.registerTopLevelFaultHandler;m.setComputeToken=function(a){m._uploadIframeProxyUrlParameters[1]=a.computeSessionId;r.computeToken=a};m.setWorkerEndpoint=function(a,b){m._uploadIframeProxyUrlParameters[3]=b;e.setRoutingHostAndRoutingKey(e.getEndPointNames().WORKER_ENDPOINT,
a,b)};m.setEndpoint=function(a){a||(a=m._serviceRegistryLookup.getServiceRegistryEndpoint("primary"),a||(n.info("ServiceRegistryLookup is empty, falling back to localhost"),a="/"));if(!a||"/"===a)if(a=(document.getElementsByTagName("base")[0]||{}).href,void 0!==a){var b=document.createElement("a");b.display="none";b.href=a;a=b.protocol+"//"+b.hostname+(b.port?":"+b.port:"")+"/"}else a=window.location.protocol+"//"+window.location.host+"/";e.setRoutingHostAndRoutingKey(e.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT,
a);e.setRoutingHostAndRoutingKey(e.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT,a);t.setRemotePageHost(a)};m.setAllowedMessages=function(a){w=a};m.allowAllMessages=function(){w=[]};m.getEndPoint=function(){return e.getRoutingHost(e.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT)};m.getUploadIframeProxyUrl=function(){var a=m.getWorkerRoutingHost();"/"===a.slice(-1)&&(a=a.slice(0,-1));return a+t.getUploadIframeProxyUrlPath()+m._uploadIframeProxyUrlParameters.join("")};m.getComputeSessionId=function(){return r.computeToken?
r.computeToken.computeSessionId:null};m.getWorkerRoutingHost=function(){var a=e.getRoutingHost(e.getEndPointNames().WORKER_ENDPOINT);if(a)return a;a=(document.getElementsByTagName("base")[0]||{}).href;if(void 0!==a){var b=document.createElement("a");b.display="none";b.href=a;return b.protocol+"//"+b.hostname+(b.port?":"+b.port:"")+"/"}return window.location.protocol+"//"+window.location.host+"/"};m.getWorkerRoutingKey=function(){return e.getRoutingKey(e.getEndPointNames().WORKER_ENDPOINT)};m.upload=
function(a,b){return(new u).upload(a,b,{endpoint:m.getWorkerRoutingHost(),uploadIframeProxyUrl:m.getUploadIframeProxyUrl()})};m.getServiceRegistryEndpoint=function(a){return m._serviceRegistryLookup.getServiceRegistryEndpoint(a)};m.enableServerOnWorkerAsync=function(){e.enableEndPoint(e.getEndPointNames().WORKER_ASYNC_ENDPOINT)};m.disableServerOnWorkerAsync=function(){e.disableEndPoint(e.getEndPointNames().WORKER_ASYNC_ENDPOINT)};m.isServerOnWorkerAsyncEnabled=function(){return e.isEndPointEnabled(e.getEndPointNames().WORKER_ASYNC_ENDPOINT)};
m.enableServerOnWorker=function(){e.enableEndPoint(e.getEndPointNames().WORKER_ENDPOINT)};m.disableServerOnWorker=function(){e.disableEndPoint(e.getEndPointNames().WORKER_ENDPOINT)};m.isWorkerEndpointEnabled=function(){return e.isEndPointEnabled(e.getEndPointNames().WORKER_ENDPOINT)};m.setWorkerOnlyMessageTypes=function(a){e.setMessageTypesToEndPoint(e.getEndPointNames().WORKER_ENDPOINT,a)};h.after(t,"onError",function(a){a&&q.handleNonTransactionFault(a)},!0);m.createNewEndPoint=function(a,b,c,d,
l){this.getEndPointByName(a)||e.setUpNewEndPoint(a,b,c,d,l)};m.getUrlForEndPoint=function(a){return e.getRemoteUrlForEndPoint(a)};m.getEndPointByName=function(a){return e.getEndPointNames()[a]};m.getEndPointAllowsDirectXhr=function(a){return e.getEndPointAllowsDirectXhr(a)}}};m.reset();return m})},"mw-remote/iframeproxy/IframeProxyClient":function(){define("dojo/_base/connect dojo/_base/declare dojo/_base/Deferred dojo/_base/lang dojo/aspect dojo/dom-construct mw-log/Log ./CheckUrlService".split(" "),
function(g,h,f,b,c,a,d,k){var e=h([],{IFRAME_TIMEOUT:2E4,LATEST_VERSION:"1.6",REMOTE_PROXY:"/remote/proxy/",constructor:function(a){this.iframeId=a||"remoteProducer";this._version=null;this._messageId=0;this._loaded=!1;this._pendingQueue=[];this._transactions={};this._uploadTargetCallbacks={};this._checkUrlTimeout=this._loadTimeoutHandle=this._checkUrl=null;this._errorRate=0},setRemotePageHost:function(a,b,c,d){a=this._combineUriPaths(a||"","/");b=b||"";d=d||"";this.computeToken=c;if(a!==this._host||
b!==this._key||d!==this._proxyUrl)this._errorLoading=this._loaded=!1,this._version=null,this._host=a,this._key=b,this._proxyUrl=d,this._setVersion("use_latest")},_setVersion:function(a){a&&"use_latest"!==a||(a=this.LATEST_VERSION);this._loaded||a===this._version||(this._version=a,a=this._calculateUrls(this._host,this._key,a,this._proxyUrl),this._createIframe(a))},_calculateUrls:function(a,b,c,d){var e=this.REMOTE_PROXY+c+"/iframeProxyRelease.html";c=this.REMOTE_PROXY+c+"/CheckJsFile.js";d&&(e=d);
e=this._combineUriPaths(a,e).split("?")[0];e+=b?"?routingkey\x3d"+b:"";c=this._combineUriPaths(a,c);c=b?c+("?routingkey\x3d"+b):c+("?time\x3d"+(new Date).getTime());return{fastFailUrl:c,iFrameUrl:e}},_createIframe:function(b){var c=b.fastFailUrl,d=this;this._url=b.iFrameUrl;this.remoteIframe&&a.destroy(this.remoteIframe);this.remoteIframe=a.create("iframe",{id:this.iframeId,src:this._url,width:0,height:0,style:"visibility: hidden; display: none;"});document.body.appendChild(this.remoteIframe);this._checkUrl=
null;this._checkUrlTimeout=setTimeout(function(){d._checkUrl=(new k(c)).then(function(){d._checkUrl=null},function(a){d._checkUrl=null;"cancel"!==a.dojoType&&"CancelError"!==a.name&&d._handleLoadTimeoutHitch()})},.15*this.IFRAME_TIMEOUT);this._loadTimeoutHandle=setTimeout(function(){d._handleLoadTimeoutHitch()},this.IFRAME_TIMEOUT);this._messageConnection||(this._messageConnection=g.connect(window,"message",this,this._handleMessage))},_handleLoadTimeoutHitch:function(){this._cleanupFailureChecks();
if(!this._loaded)if("1.0"===this._version)this._handleLoadTimeout();else{var a=(parseFloat(this._version)-.1).toFixed(1).toString();d.info("Unable to load proxy version "+this._version+", trying "+a+".");this._setVersion(a)}},createUploadIframeTarget:function(a,c,d){this._uploadTargetCallbacks[a]=b.hitch(d||this,c);this._postMessage("createUploadIframe;"+a)},cancelUpload:function(a){this._postMessage("cancelUpload;"+a)},getUploadIframeProxyUrlPath:function(){return this.REMOTE_PROXY+this._version+
"/uploadIframeProxy.html"},sendMessage:function(a,b,c){var e=this;this.computeToken&&(c=c||{},c.headers=c.headers||{},c.headers.computeToken=this.computeToken);var l=this._getNewMessageId();b="sendMessage;"+l+";"+b+";"+(c?JSON.stringify(c,null,0):"{}");b+=";"+a;a={deferred:new f(function(){"1.0"===e._version?d.warn("Cancelling is not supported by the 1.0 remote proxy."):e._postMessage("abort;"+l)}),id:l};this._errorLoading?a.deferred.reject("The iFrame did not load properly: "+this._url):(this._transactions[l]=
a,this._postMessage(b));return a.deferred},setLatency:function(a){this._latency=a},setErrorRate:function(a){this._errorRate=a},_postMessage:function(a){this._loaded?this._postMessageNow(a):this._pendingQueue.push(a)},_handleMessage:function(a){if(a.source===this.remoteIframe.contentWindow){var b=a.data.indexOf(";");var c=a.data.substring(0,b);if(!c)throw Error("Client unable to parse message, no action specified: "+a.data);switch(c){case "ready":this._cleanupFailureChecks();this._loaded=!0;this._flushPending();
break;case "sendMessageResponse":this._sendMessageResponse(a,b);break;case "uploadIframeMessage":c=a.data.indexOf(";",b+1);b=a.data.substring(b+1,c);a=a.data.substring(c+1,a.data.length);this._uploadTargetCallbacks[b](a);break;case "websocketOpened":this.onWebsocketOpen();break;case "websocketClosed":a=a.data.substring(b+1,a.data.length);a=JSON.parse(a);this.onWebsocketClose(a);break;case "websocketMsg":a=a.data.substring(b+1,a.data.length);a=JSON.parse(a);this.onWebsocketMsg(a);break;case "websocketError":this.onWebsocketError();
break;default:throw Error("Unknown action: "+c+", data: "+a.data);}}},_sendMessageResponse:function(a,b){var c=a.data.indexOf(";",b+1);var d=a.data.indexOf(";",c+1);b=a.data.substring(b+1,c);c=a.data.substring(c+1,d);var e=a.data.substring(d+1,a.data.length);if(!b||!c)throw Error("Invalid message from remote iframe: "+a.data);d=this._transactions[b];if(!d)throw Error("Unknown transaction id: "+b+", from remote iframe: "+a.data);delete this._transactions[b];if(!d.deferred.isCanceled())if("success"===
c){try{var k=e&&JSON.parse(e)}catch(q){k=e}k=""===k?{}:k;d.deferred.resolve(k)}else this.onError(e),d.deferred.reject(e)},_cleanupFailureChecks:function(){this._checkUrlTimeout&&clearTimeout(this._checkUrlTimeout);this._loadTimeoutHandle&&clearTimeout(this._loadTimeoutHandle);this._checkUrl&&!this._checkUrl.isFulfilled()&&this._checkUrl.cancel("Timeout Occurred or iFrame Was Loaded before CheckUrl",!1);this._checkUrl=this._loadTimeoutHandle=this._checkUrlTimeout=null},_handleLoadTimeout:function(){var a;
if(!this._loaded){var b=this._transactions;this._transactions={};this._pendingQueue=[];for(a in b)b.hasOwnProperty(a)&&b[a].deferred.reject("Timeout while loading the iFrame "+this._url+" at "+new Date);this._errorLoading=!0;this.onError({code:"IframeLoadTimeout",description:"Iframe proxy loading failed due to an HTTP error",message:""})}},_postMessageNow:function(a){function b(){if(0<c._errorRate&&Math.random()<c._errorRate&&0===a.indexOf("sendMessage;")){if(e=a.split(";",2)[1],k=c._transactions[e])delete c._transactions[e],
d.error("Generating simulated error. Request was: ",a),c.onError("403 Forbidden;403"),k.deferred.reject("403 Forbidden;403")}else c.remoteIframe.contentWindow.postMessage(a,c._url)}var c=this,e,k;this._latency?setTimeout(b,this._latency):b()},_flushPending:function(){this._pendingQueue.forEach(this._postMessageNow,this);this._pendingQueue=[]},_getNewMessageId:function(){this._messageId+=1;return this._messageId.toString()},onError:function(){},onWebsocketOpen:function(){},onWebsocketMsg:function(){},
onWebsocketClose:function(){},onWebsocketError:function(){},_combineUriPaths:function(){return Array.prototype.slice.call(arguments).reduce(function(a,b){if(0===a.length)return b;0<b.length&&("/"===b[0]&&a.lastIndexOf("/")===a.length-1?b=b.substring(1):"/"!==b[0]&&a.lastIndexOf("/")!==a.length-1&&(a+="/"));return a+b})}});e.WebSocket=h([],{constructor:function(a){var b=this;this.proxyClient=e.WebSocket.proxyClient;this.proxyClient.computeToken&&0<=a.indexOf("?")&&(a=a+"\x26computeToken\x3d"+this.proxyClient.computeToken);
this.proxyClient._postMessage("connectWebsocket;"+a);c.after(this.proxyClient,"onWebsocketOpen",function(){b.onopen.apply(b,arguments)},!0);c.after(this.proxyClient,"onWebsocketMsg",function(){b.onmessage.apply(b,arguments)},!0);c.after(this.proxyClient,"onWebsocketClose",function(){b.onclose.apply(b,arguments)},!0);c.after(this.proxyClient,"onWebsocketError",function(){b.onerror.apply(b,arguments)},!0)},onopen:function(){},onmessage:function(){},onclose:function(){},onerror:function(){},send:function(a){this.proxyClient._postMessage("websocketSend;"+
a)},close:function(){this.proxyClient._postMessage("closeWebsocket;")}});return e})},"mw-remote/iframeproxy/CheckUrlService":function(){define(["dojo/dom","dojo/on","dojo/request/script","mw-log/Log"],function(g,h,f,b){return function(c){if(!c)throw Error("Expected a valid url in urlToEmptyJsFile");var a={framedoc:null};var d=f.get(c,a,!0);a=g.byId(d.id,a.frameDoc);var k=h(a,"error",function(a){b.info("CheckUrlService detected an error accessing url: "+c);d.handleResponse(null,a);k.remove()});return d.promise}})},
"dojo/request/script":function(){define("module ./watch ./util ../_base/kernel ../_base/array ../_base/lang ../on ../dom ../dom-construct ../has ../_base/window".split(" "),function(g,h,f,b,c,a,d,k,e,l,u){function n(a,b){a.canDelete&&p._remove(a.id,b.options.frameDoc,!0)}function v(a){y&&y.length&&(c.forEach(y,function(a){p._remove(a.id,a.frameDoc);a.frameDoc=null}),y=[]);return a.options.jsonp?!a.data:!0}function m(a){return!!this.scriptLoaded}function w(a){return(a=a.options.checkString)&&eval("typeof("+
a+') !\x3d\x3d "undefined"')}function q(a,b){if(this.canDelete){var c=this.response.options;y.push({id:this.id,frameDoc:c.ioArgs?c.ioArgs.frameDoc:c.frameDoc});c.ioArgs&&(c.ioArgs.frameDoc=null);c.frameDoc=null}b?this.reject(b):this.resolve(a)}function p(b,c,e){var k=f.parseArgs(b,f.deepCopy({},c));b=k.url;c=k.options;var l=f.deferred(k,n,v,c.jsonp?null:c.checkString?w:m,q);a.mixin(l,{id:r+t++,canDelete:!1});c.jsonp&&((new RegExp("[?\x26]"+c.jsonp+"\x3d")).test(b)||(b+=(~b.indexOf("?")?"\x26":"?")+
c.jsonp+"\x3d"+(c.frameDoc?"parent.":"")+r+"_callbacks."+l.id),l.canDelete=!0,x[l.id]=function(a){k.data=a;l.handleResponse(k)});f.notify&&f.notify.emit("send",k,l.promise.cancel);if(!c.canAttach||c.canAttach(l)){var g=p._attach(l.id,b,c.frameDoc);if(!c.jsonp&&!c.checkString)var u=d(g,z,function(a){if("load"===a.type||A.test(g.readyState))u.remove(),l.scriptLoaded=a})}d.once(g,"error",function(a){l.reject(a);p._remove(l.id,c.frameDoc,!0)});h(l);return e?l:l.promise}l.add("script-readystatechange",
function(a,b){return"undefined"!==typeof b.createElement("script").onreadystatechange&&("undefined"===typeof a.opera||"[object Opera]"!==a.opera.toString())});var r=g.id.replace(/[\/\.\-]/g,"_"),t=0,z=l("script-readystatechange")?"readystatechange":"load",A=/complete|loaded/,x=b.global[r+"_callbacks"]={},y=[];p.get=p;p._attach=function(a,b,c){c=c||u.doc;var d=c.createElement("script");d.type="text/javascript";d.src=b;d.id=a;d.async=!0;d.charset="utf-8";return c.getElementsByTagName("head")[0].appendChild(d)};
p._remove=function(a,b,c){e.destroy(k.byId(a,b));x[a]&&(c?x[a]=function(){delete x[a]}:delete x[a])};p._callbacksProperty=r+"_callbacks";return p})},"mw-remote/impl/FaultManager":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang"],function(g,h,f){return h([],{constructor:function(b){b=b||{};this.faultHandlers=b.faultHandlers||{};this.topLevelHandlers=b.topLevelHandlers||[];this.endPointLevelHandlers=b.endPointLevelHandlers||{}},registerFaultHandler:function(b,c,a){a&&(c=
f.hitch(a,c));this.faultHandlers[b]=c},deregisterFaultHandler:function(b){delete this.faultHandlers[b]},registerTopLevelFaultHandler:function(b,c,a){a&&(c=f.hitch(a,c));if(f.isString(b)){if("*"===b)return b={matcher:b,handler:c},this.defaultTopLevelHandler=c,b;b=this._constructMatcherFromQuery(b)}b={matcher:b,handler:c};this.topLevelHandlers.push(b);return b},registerEndpointLevelFaultHandler:function(b,c,a,d){d&&(a=f.hitch(d,a));f.isString(c)&&(c=this._constructMatcherFromQuery(c));c={matcher:c,
handler:a};this.endPointLevelHandlers[b]||(this.endPointLevelHandlers[b]=[]);this.endPointLevelHandlers[b].push(c);return c},deregisterTopLevelFaultHandler:function(b){var c=this.topLevelHandlers.indexOf(b);-1<c?this.topLevelHandlers.splice(c,1):"*"===b.matcher&&delete this.defaultTopLevelHandler},_constructMatcherFromQuery:function(b){var c=[];b.split("||").forEach(function(a){a=f.trim(a);a=a.replace(/([.])/g,"\\$1");a=a.replace(/\*/g,".*");c.push(new RegExp("^"+a+"$"))});return function(a){return g.some(c,
function(b){return b.test(a.faultCode||a.code||"")})}},handleFault:function(b){var c,a=function(a,c){if(c=b.getMessageClassifier(c))if(a=[a,c].join(":"),this.faultHandlers[a])this.faultHandlers[a](b.fault,b.context)};for(c in b.requestMessages)if(b.requestMessages.hasOwnProperty(c)){if(this.faultHandlers[c])this.faultHandlers[c](b.fault,b.context);var d=b.requestMessages[c];Array.isArray(d)&&d.forEach(f.hitch(this,a,c))}if(this.faultHandlers["*"])this.faultHandlers["*"](b.fault,b.context);this.endPointLevelHandlers[b.endPointName]?
this._handleEndpointLevelFault(b):this._handleTopLevelFault(b)},_handleEndpointLevelFault:function(b){var c=!1,a=g.filter(this.endPointLevelHandlers[b.endPointName],function(a){return a.matcher.call(this,b.fault,b.context)},this);0<a.length&&a[0].handler&&(c=!0,a[0].handler.call(this,b.fault,b.context,b));return c},_handleTopLevelFault:function(b){var c=g.filter(this.topLevelHandlers,function(a){return a.matcher.call(this,b.fault,b.context)},this);(c=0<c.length?c[0].handler:this.defaultTopLevelHandler)&&
c.call(this,b.fault,b.context,b)},handleNonTransactionFault:function(b){var c=g.filter(this.topLevelHandlers,function(a){return a.matcher.call(this,b)},this);(c=0<c.length?c[0].handler:this.defaultTopLevelHandler)&&c.call(this,b)}})})},"mw-remote/impl/RequestManager":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/_base/lang mw-remote/RemoteEndPointsManager mw-remote/defaultMessageMapping ./Transaction".split(" "),function(g,h,f,b,c,a,d){return h([],{defaultMapping:a,
constructor:function(a){a=a||{};this.defaultFactories=a.defaultFactories||{};this.mockHandlers=a.mockHandlers||{};this.mapping=a.mapping||this.defaultMapping;this.responseManager=a.responseManager},registerDefaultMessageFactory:function(a,c,d){d&&(c=b.hitch(d,c));this.defaultFactories[a]=c},deregisterDefaultMessageFactory:function(a){delete this.defaultFactories[a]},registerMockResponseGenerator:function(a,c,l){var e=this;c=b.hitch(l||this,c);this.mockHandlers[a]=function(a,b){var k=d.construct(b);
a=c(a,k);a||(a=new f,a.callback());a.addCallback(function(){e.responseManager._processResult(k)})}},deregisterMockResponseGenerator:function(a){delete this.mockHandlers[a]},sendMessage:function(a,b,c){var d={},e={};b=b||{};this._createAndFillTransactions(a,b,c,d,e);a=Object.keys(d);for(b=0;b<a.length;b+=1)c=a[b],this._callMocks(e[c]),d[c].send(),this.responseManager.handleTransaction(d[c])},_getTransaction:function(a,b){return d.construct({context:b,computeToken:this.computeToken,endPointName:a})},
_getMockTransaction:function(a,b,c){return d.construct({context:b,computeToken:this.computeToken,endPointName:a,uuid:c})},_createAndFillTransactions:function(a,b,d,f,g){var e,k=function(a){var d=c.getEndPointForMessageType(a);var e=f[d];var k=g[d];e||(e=this._getTransaction(d,b),k=this._getMockTransaction(d,b,e.uuid),f[d]=e,g[d]=k);if(this.defaultFactories[a]&&(d=this.defaultFactories[a](e.context))){var l=a.split(":");var m=l[0];l=l.slice(1,l.length).join(":");this.mockHandlers[a]||e.addRequestMessage(m,
d,l);k.addRequestMessage(m,d,l)}};for(e in a)if(a.hasOwnProperty(e)){var l=c.getEndPointForMessageType(e);var h=g[l];var n=f[l];f[l]||(n=this._getTransaction(l,b),h=this._getMockTransaction(l,b,n.uuid),f[l]=n,g[l]=h);l=[e,d].join(":");this.mockHandlers[e]||this.mockHandlers[l]||n.addRequestMessage(e,a[e],d);h.addRequestMessage(e,a[e],d);this.mapping[l]?this.mapping[l].forEach(k,this):this.mapping[e]&&this.mapping[e].forEach(k,this)}},_callMocks:function(a){var c,d=a.context;delete a.context;var k=
function(a,b){var c=f.getMessageClassifier(b);if(c&&(a=[a,c].join(":"),this.mockHandlers[a]))this.mockHandlers[a]([b],f)};for(c in a.requestMessages)if(a.requestMessages.hasOwnProperty(c)){var f=b.mixin({},a);f.context=d;if(this.mockHandlers.hasOwnProperty(c))this.mockHandlers[c](f.requestMessages[c],f);Array.isArray(f.requestMessages[c])?f.requestMessages[c].forEach(b.hitch(this,k,c)):k(c,f.requestMessages[c])}if(this.mockHandlers["*"])this.mockHandlers["*"](c,f.requestMessages[c],f)}})})},"mw-remote/RemoteEndPointsManager":function(){define(["./EndPointsManager"],
function(g){var h=null;null===h&&(h=new g);return h})},"mw-remote/EndPointsManager":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/Deferred","dojo/_base/lang","./iframeproxy/IframeProxyClient"],function(g,h,f,b,c){return g([],{constructor:function(){this.DirectXhrConstants={ENABLED:"ENABLED",DISABLED:"DISABLED",UNRESOLVED:"UNRESOLVED"};this._setDirectXhrCommunicationState(!1);this._directXhrChecks={};this._initializeEndPointsCollection()},_initializeEndPointsCollection:function(){this.endPointsCollection=
{ROUTER_LEAF_INSECURE_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/json",messages:"RouterLogin CreateAccount CurrentUser Login UpdateAccount ServiceRegistry ClientType AuthorizationDetails AcquireMatlab".split(" "),iframeProxyName:"remoteProducer",acceptsMessageContainerMessages:!0,directXhr:this.DirectXhrConstants.UNRESOLVED},ROUTER_LEAF_SECURE_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/json/secure",
messages:[],iframeProxyName:"remoteProducer",acceptsMessageContainerMessages:!0,directXhr:this.DirectXhrConstants.UNRESOLVED},WORKER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!1,iframeProxyUrl:"",pathSuffix:"messageservice/json/secure",messages:[],iframeProxyName:"remoteWorkerProducer",acceptsMessageContainerMessages:!0,directXhr:this.DirectXhrConstants.UNRESOLVED},WORKER_ASYNC_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/async",
messages:[],iframeProxyName:"remoteWorkerAsyncProducer",acceptsMessageContainerMessages:!0,directXhr:this.DirectXhrConstants.UNRESOLVED},USAGE_DATA_ROUTER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"udc/service/v1/events",messages:["UsageDataEventCollection"],iframeProxyName:"remoteUDCProducer",acceptsMessageContainerMessages:!1,directXhr:this.DirectXhrConstants.UNRESOLVED},HELP_DATA_ROUTER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,
enabled:!0,iframeProxyUrl:"",pathSuffix:"",messages:["HelpDataEventCollection"],iframeProxyName:"doc_center",acceptsMessageContainerMessages:!1,directXhr:this.DirectXhrConstants.UNRESOLVED}}},_setDirectXhrCommunicationState:function(a){this._useDirectXhrForCommunication=a},reset:function(){this._initializeEndPointsCollection();this._directXhrChecks={}},setUpNewEndPoint:function(a,b,c,e,f){this.endPointsCollection[a]={routingHost:"",routingKey:"",pathSuffix:c,enabled:b,messages:[],iframeProxy:null,
iframeProxyName:e,acceptsMessageContainerMessages:f,directXhr:this.DirectXhrConstants.UNRESOLVED}},getPathSuffixForEndPoint:function(a){return this.endPointsCollection[a].pathSuffix},setPathSuffixForEndPoint:function(a,b){this.endPointsCollection[a].pathSuffix=b},getEndPointNames:function(){var a={},b;for(b in this.endPointsCollection)this.endPointsCollection.hasOwnProperty(b)&&(a[b]=b);return a},setRoutingHostAndRoutingKey:function(a,c,k){c&&c.lastIndexOf("/")!==c.length-1&&(c+="/");this.endPointsCollection[a].routingHost=
c;k&&(this.endPointsCollection[a].routingKey=k);this._checkIfEndpointAllowsDirectXhr(a,!0).then(b.hitch(this,this._processEndPointAllowsXhrResponse,a,c))},_processEndPointAllowsXhrResponse:function(a,b,c){this._setEndpointAllowsDirectXhr(c);c.status!==this.DirectXhrConstants.ENABLED&&b&&this._setIframeRoutingHostAndRoutingkey(a)},_setEndpointAllowsDirectXhr:function(a){this.endPointsCollection[a.endPointName]&&a.status in this.DirectXhrConstants&&(this.endPointsCollection[a.endPointName].directXhr=
a.status)},_setIframeRoutingHostAndRoutingkey:function(a){var b=this.getIframeProxyClientForEndPoint(a);b&&b.setRemotePageHost(this.endPointsCollection[a].routingHost,this.endPointsCollection[a].routingKey,null,this.endPointsCollection[a].iframeProxyUrl)},getEndPointAllowsDirectXhr:function(a){return this._checkIfEndpointAllowsDirectXhr(a,!1)},_checkIfEndpointAllowsDirectXhr:function(a,b){if(this._directXhrChecks[a]&&!b)return this._directXhrChecks[a];var c=new f;this._directXhrChecks[a]=c;b=this.getDirectXhrAllowed(a);
var d=this.DirectXhrConstants,l={endPointName:a,status:d.UNRESOLVED};if("function"===typeof URL)try{var g=new URL(this.getRoutingHost(a))}catch(v){return l.status=d.DISABLED,c.resolve(l),c.promise}else g=document.createElement("a"),g.href=this.getRoutingHost(a);if(this._useDirectXhrForCommunication)if(g.origin===window.location.origin)l.status=d.ENABLED,c.resolve(l);else if(b===d.UNRESOLVED){var h=new XMLHttpRequest;a=this.getRemoteUrlForEndPoint(a);h.open("OPTIONS",a);h.send();h.onload=function(){l.status=
200===h.status?d.ENABLED:d.DISABLED;c.resolve(l)};h.onerror=function(){l.status=d.DISABLED;c.resolve(l)}}else l.status=b,c.resolve(l);else l.status=d.DISABLED,c.resolve(l);return c.promise},getRoutingHost:function(a){return this.endPointsCollection[a].routingHost},getRoutingKey:function(a){return this.endPointsCollection[a].routingKey},getMessageTypesMappedToEndPoint:function(a){return this.endPointsCollection[a].messages},isEndPointEnabled:function(a){return this.endPointsCollection[a].enabled},
setMessageTypesToEndPoint:function(a,b){this.endPointsCollection[a].messages=b},enableEndPoint:function(a){this.endPointsCollection[a].enabled=!0},getDirectXhrAllowed:function(a){return this.endPointsCollection[a].directXhr},disableEndPoint:function(a){this.endPointsCollection[a].enabled=!1},getEndPointForMessageType:function(a){var b=null,c;for(c in this.endPointsCollection)if(this.endPointsCollection.hasOwnProperty(c)&&(b=-1<h.lastIndexOf(this.endPointsCollection[c].messages,a)?c:b))if(this.isEndPointEnabled(b))break;
else b=null;return b||this.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT},getRemoteUrlForEndPoint:function(a){var b=this.endPointsCollection[a].routingHost+this.endPointsCollection[a].pathSuffix;this.endPointsCollection[a].routingKey&&(b=b+"?routingkey\x3d"+this.endPointsCollection[a].routingKey);return b},setIframeProxyClientForEndPoint:function(a,b){this.endPointsCollection[a].iframeProxy=b},getIframeProxyClientForEndPoint:function(a){var b=this.endPointsCollection[a].iframeProxy;b||(b=new c(this.endPointsCollection[a].iframeProxyName),
this.endPointsCollection[a].iframeProxy=b);return b},isEndpointMessageContainerBased:function(a){return a&&this.endPointsCollection[a]?this.endPointsCollection[a].acceptsMessageContainerMessages:!0},addMessagesTypesToEndPoint:function(a,b){this.endPointsCollection[a]&&-1===this.endPointsCollection[a].messages.indexOf(b)&&this.endPointsCollection[a].messages.push(b)},removeMessageTypesFromEndPoint:function(a,b){this.endPointsCollection[a]&&(b=this.endPointsCollection[a].messages.indexOf(b),-1<b&&this.endPointsCollection[a].messages.splice(b,
1))}})})},"mw-remote/defaultMessageMapping":function(){define([],function(){return{Eval:["CurrentFolder","ListFolder"],"Eval:Ping":[],"Eval:RunFile":["UpdateFile","CurrentFolder","ListFolder"],"Eval:MlsPublishPre":["UpdateFile"],"FEval:liveEvalInstrumentCode":[],Interrupt:[],"FEval:GetFigures":["CurrentFolder","ListFolder"],"FEval:CloseFigure":["FEval:GetFigures"],"FEval:SelectFigure":["FEval:GetFigures"],"FEval:ResetAxes":["FEval:GetFigures"],"FEval:ResizeFigure":["FEval:GetFigures"],"FEval:AxesInteraction2D":["FEval:GetFigures"],
"FEval:AxesInteraction3D":["FEval:GetFigures"],CurrentUser:["ServiceRegistry"],RouterLogin:["ServiceRegistry"],CurrentFolder:["ListFolder"],MoveFile:["CurrentFolder"],Variable:[],CloseFile:["SaveSession"],UpdateFile:["SaveSession"],SaveSession:["UpdateFile"],SaveSessionState:["UpdateFile"],Logout:["CloseFile"],UpdateShare:["ListFolder"],AcquireMatlab:["ServiceRegistry"]}})},"mw-remote/impl/Transaction":function(){define(["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/lang","mw-remote/RemoteEndPointsManager",
"mw-utils/Utils"],function(g,h,f,b,c){return g([],{constructor:function(a){a=a||{};this.requestMessages=a.requestMessages||{};this.responseMessages=a.responseMessages||{};this.context=a.context;this.computeToken=a.computeToken;this.uuidClassifierMap=a.uuidClassifierMap||{};this.endPointName=a.endPointName||null;this.allowedMessages=a.allowedMessages||[];this.ignoreMessageTypes=a.ignoreMessageTypes||[];this.sendMessage=a.sendMessage},addRequestMessage:function(a,c,k){if(c){var d=b.isEndpointMessageContainerBased(this.endPointName);
this.requestMessages[a]||(this.requestMessages[a]=[]);f.isArray(c)?c.forEach(function(b){this.addRequestMessage(a,b,k)},this):d?(c.uuid=c.uuid||this._generateUuid(),k&&(this.uuidClassifierMap[c.uuid]=k),this.requestMessages[a].push(c)):this.requestMessages[a]=c;this.requestMessages=this._filterMessages(this.requestMessages)}},_filterMessages:function(a){var b={};this.getRequestMessageTypes().forEach(function(c){if(0===this.allowedMessages.length||0<=this.allowedMessages.indexOf(c))b[c]=a[c]},this);
return b},getResponseMessageTypes:function(){var a,b=[];for(a in this.responseMessages)this.responseMessages.hasOwnProperty(a)&&b.push(a);return b},getRequestMessageTypes:function(){var a,b=[];for(a in this.requestMessages)this.requestMessages.hasOwnProperty(a)&&b.push(a);return b},getMessageClassifier:function(a){return a&&a.uuid&&this.uuidClassifierMap.hasOwnProperty(a.uuid)?this.uuidClassifierMap[a.uuid]:""},send:function(){this._removeEmptyMessages();this._isEmpty(this.requestMessages)?(this.deferred=
new h,this.deferred.callback()):(this.startTime=(new Date).getTime(),this.deferred=this._doSend(this._getRequest(this.requestMessages)),this.deferred.addCallback(this,this._processResponse),this.deferred.addErrback(this,this._processFault))},addIgnoreMessageType:function(a,b){if(-1<this.getRequestMessageTypes().indexOf(a))if(b)for(var c in this.uuidClassifierMap)this.uuidClassifierMap.hasOwnProperty(c)&&b&&this.uuidClassifierMap[c]===b&&this.ignoreMessageTypes.push(a+":"+b);else this.ignoreMessageTypes.push(a)},
_removeEmptyMessages:function(){if(!this._isEmpty(this.requestMessages))for(var a in this.requestMessages)this.requestMessages.hasOwnProperty(a)&&f.isArray(this.requestMessages[a])&&0===c.getArrayLength(this.requestMessages[a])&&delete this.requestMessages[a]},_isEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},_generateUuid:function(){return c.generateUuid()}})})},"mw-remote/impl/ResponseManager":function(){define(["dojo/_base/declare","dojo/_base/lang","mw-log/Log","mw-remote/RemoteEndPointsManager"],
function(g,h,f,b){return g([],{constructor:function(b){b=b||{};this.responseHandlers=b.responseHandlers||{};this.faultManager=b.faultManager;this.transactions=b.transactions||[]},registerResponseHandler:function(b,a,d){d&&(a=h.hitch(d,a));this.responseHandlers[b]=a},deregisterResponseHandler:function(b){delete this.responseHandlers[b]},handleTransaction:function(b){this.transactions.push(b);b.deferred.addCallback(h.hitch(this,this._processAll,b));b.deferred.addCallback(h.hitch(this,this._processResult,
b));b.deferred.addErrback(h.hitch(this,this._processAll,b));b.deferred.addErrback(h.hitch(this,this._processFault,b))},_processAll:function(b){b=this.transactions.indexOf(b);0<=b&&this.transactions.splice(b,1)},_processResult:function(b){b.getResponseMessageTypes().forEach(function(a){var c=b.responseMessages[a],k=[];try{if(Array.isArray(c)){c.forEach(function(c){var d=b.getMessageClassifier(c);if(d){var e=[a,d].join(":");var f=this,g=!1;b.getRequestMessageTypes().forEach(function(a){a=b.requestMessages[a];
Array.isArray(a)?a.forEach(function(a){f.responseHandlers[e]&&a.uuid===c.uuid&&(f.responseHandlers[e]([c],b.context),g=!0)}):f.responseHandlers[e]&&a.uuid===c.uuid&&(f.responseHandlers[e]([c],b.context),g=!0)});g||k.push(c)}else k.push(c)},this);if(0<k.length&&this.responseHandlers[a])this.responseHandlers[a](k,b.context);if(this.responseHandlers["*"])this.responseHandlers["*"](a,b.responseMessages[a],b.context)}}catch(e){f.error("Remote: Fault occurred while processing response.\nMessage: "+e.message+
"\nType: "+a+"\nResponse: "+JSON.stringify(c,null,2))}},this);this._processUdcResponses(b);b.fault&&this.faultManager.handleFault(b)},_processUdcResponses:function(c){if(!b.isEndpointMessageContainerBased(c.endPointName)){var a=Object.keys(c.requestMessages)[0];if(this.responseHandlers[a])this.responseHandlers[a](c.responseMessages)}},_processFault:function(b){this.faultManager.handleFault(b)}})})},"mw-remote/impl/AutoDetectedTransaction":function(){define(["dojo/_base/declare","mw-remote/impl/JsonTransaction",
"mw-remote/utils/SendMessageUtil"],function(g,h,f){return g([h],{_doSend:function(b){return f.sendPayload(b,this.endPointName)}})})},"mw-remote/impl/JsonTransaction":function(){define(["dojo/_base/declare","dojo/_base/xhr","dojo/_base/lang","mw-remote/RemoteEndPointsManager","./Transaction"],function(g,h,f,b,c){return g(c,{constructor:function(a){a=a||{};this.uuid=a.uuid||this._generateUuid()},_getRequest:function(a){var c=null;b.isEndpointMessageContainerBased(this.endPointName)?(c={uuid:this.uuid,
messages:a},this.computeToken&&(c.computeToken=this.computeToken)):Object.keys(a).forEach(function(b){c=a[b]});this._sanitizeForJson(c);return JSON.stringify(c,null,0)},_sanitizeForJson:function(a){var b;if(f.isArray(a))a.forEach(this._sanitizeForJson,this);else if(f.isObject(a))for(b in a)a.hasOwnProperty(b)&&(void 0===a[b]?delete a[b]:(f.isObject(a[b])||f.isArray(a[b]))&&this._sanitizeForJson(a[b]))},_doSend:function(a){return h.post({url:this._getEndpoint(),contentType:"application/json",handleAs:"json",
postData:a})},_processResponse:function(a){this.stopTime=(new Date).getTime();a?(a.fault&&(this.fault=a.fault),this.responseMessages=a.messages?a.messages:a):this.fault={faultCode:"Connection.Fault",message:"Unable to communicate with server, no response."}},_processFault:function(a){this.stopTime=(new Date).getTime();this.fault={faultCode:"Connection.Fault",message:a}}})})},"mw-remote/utils/SendMessageUtil":function(){define(["mw-remote/RemoteEndPointsManager","dojo/_base/xhr","dojo/_base/Deferred"],
function(g,h,f){var b=function(a,b,c){return g.getIframeProxyClientForEndPoint(b).sendMessage(a,g.getRemoteUrlForEndPoint(b),c)},c=function(a,b,c){c=c&&c.headers?c.headers:null;return h.post({url:g.getRemoteUrlForEndPoint(b),contentType:"application/json",handleAs:"json",headers:c,postData:a})};return{sendPayload:function(a,d,k){var e=g.getEndPointAllowsDirectXhr(d),l=new f;e.then(function(e){(e.status===g.DirectXhrConstants.ENABLED?c(a,d,k):b(a,d,k)).then(function(a){l.resolve(a)})});return l}}})},
"mw-remote/UploadToWorker":function(){define("dojo/_base/declare dojo/Deferred dojo/dom-construct mw-html-utils/HtmlUtils mw-remote/RemoteEndPointsManager ./utils/SendMessageUtil".split(" "),function(g,h,f,b,c,a){return g([],{constructor:function(){},upload:function(b,f,e){var d=this;this._uploadHandler=new h(function(){d.postMessageToUploadIframe("cancelUpload");d._unloadIframe()});this._workerEndpoint=e.endpoint;if(b instanceof FileList){var k=void 0;a.sendPayload(JSON.stringify({messages:{CreateCsrfToken:[{}]}}),
c.getEndPointNames().WORKER_ENDPOINT).then(function(a){a.messages.CreateCsrfTokenResponse.forEach(function(a){a.messageFaults&&0<a.messageFaults.length||(k=a.csrfToken)});a=encodeURI(e.uploadIframeProxyUrl)+"\x26uploadDestinationUrl\x3d"+d._workerEndpoint+"upload?dest\x3d"+encodeURIComponent(f)+"\x26csrfToken\x3d"+encodeURIComponent(k);d._createUploadIframe(b,a)});return this._uploadHandler}},_createUploadIframe:function(a,b){var c=this;this._eventCallBack=function(b){if(c.getHostName(b.origin)===
c.getHostName(c._workerEndpoint))switch(b.data.type){case "iframeIsReady":c.postMessageToUploadIframe(a);break;case "updateProgress":c._uploadHandler.progress({loaded:b.data.loaded,total:b.data.total});break;case "uploadFinished":c._uploadHandler.resolve({status:b.data.status,response:b.data.response});c._unloadIframe();break;case "uploadError":c._uploadHandler.reject({status:b.data.status,response:b.data.response})}};this._uploadIframe=f.create("iframe",{id:"uploadIframe",src:b,width:0,height:0,
style:"visibility: hidden; display: none;"});document.body.appendChild(this._uploadIframe);window.addEventListener("message",this._eventCallBack,!1)},_unloadIframe:function(){this._uploadIframe&&(window.removeEventListener("message",this._eventCallBack,!1),this._uploadIframe.parentNode.removeChild(this._uploadIframe),f.destroy(this._uploadIframe),this._uploadIframe=void 0)},getHostName:function(a){return b.parseUrl(a).hostname},postMessageToUploadIframe:function(a){this._uploadIframe.contentWindow.postMessage(a,
this._workerEndpoint)}})})},"mw-html-utils/HtmlUtils":function(){define(["dojo/io-query","mw-html-utils/_parseHtml/sanitize","mw-deprecation-utils/deprecation"],function(g,h,f){return{HYPERLINK_ESCAPE_REGEXP:/<a\s+href\s*=\s*"[^"]*"[^>]*>[\s\S]*?<\/a>/g,HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP:/<a\s+href\s*=\s*"([^"]*)"([^>]*)>([\s\S]*?)<\/a>/g,STRONG_ESCAPE_REGEXP:/<strong>|<\/strong>/g,BOLD_LINK_ATTRIBUTE_REGEX:/\bstyle\s*=\s*"[^"]*\bfont-weight\s*:\s*bold\b[^"]*"/,parseQueryString:function(){var b=
window.location.search.substr(1,window.location.search.length);return this._parseQueryString(b)},_parseQueryString:function(b){return g.queryToObject(b)},parseUrl:function(b){var c=document.createElement("a");c.display="none";c.href=b||window.location.href;c.href=c.href;c={protocol:c.protocol,hostname:c.hostname,port:c.port,pathname:c.pathname,search:c.search,hash:c.hash};"https:"!==c.protocol&&"http:"!==c.protocol||0===c.pathname.indexOf("/")||(c.pathname="/"+c.pathname);"https:"===c.protocol&&"443"===
c.port&&0!==b.indexOf("https://"+c.hostname+":443")&&(c.port="");return c},escapeHtml:function(b){var c=document.createElement("div");c.textContent=b;return c.innerHTML},escapeLinksAndHtml:function(b,c){f.deprecated({deprecated:{module:"mw-html-utils/HtmlUtils",method:"escapeLinksAndHtml"},replacement:{module:"mw-html-utils/HtmlUtils",method:"treatHtmlLikeCommandWindow"}});var a="",d=b.split(this.HYPERLINK_ESCAPE_REGEXP),k=b.match(this.HYPERLINK_ESCAPE_REGEXP),e="",g=this,h=0,n=function(a,b,c,d){a=
g.parseUrl(b).protocol;"http:"!==a&&"https:"!==a&&"matlab:"!==a&&(b="#");b=g.escapeHtml(b);d=g._strongNotEscaped(d,!0);e='\x3ca href\x3d"'+b+'"\x3e'+d+"\x3c/a\x3e"};if(c)a=this.escapeHtml(b),a=this.escapeWhitespace(a);else if(""!==d[0]&&(a=this._strongNotEscaped(d[0],!0)),null!==k&&0!==k.length)for(h=0;h<k.length;h+=1)k[h].replace(this.HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP,n),""!==d[h+1]&&(d[h+1]=this._strongNotEscaped(d[h+1],!0)),a+=e+d[h+1];return a},treatHtmlLikeCommandWindow:function(b,c,a){if("string"!==
typeof b)return"";var d="",f=b.split(this.HYPERLINK_ESCAPE_REGEXP),e=b.match(this.HYPERLINK_ESCAPE_REGEXP),g="",h=this,n=0;a=a||{};var v=function(a,b,c,d){a=h.parseUrl(b).protocol;var e="";"http:"!==a&&"https:"!==a&&"matlab:"!==a&&(b="#");b=h.escapeHtml(b);d=h._strongNotEscaped(d,!1);h.BOLD_LINK_ATTRIBUTE_REGEX.test(c)&&(e=' style\x3d"font-weight:bold"');g='\x3ca href\x3d"'+b+'"'+e+"\x3e"+d+"\x3c/a\x3e"};if(c)d=this.escapeHtml(b);else if(""!==f[0]&&(d=this._strongNotEscaped(f[0],!1)),null!==e&&0!==
e.length)for(n=0;n<e.length;n+=1)e[n].replace(this.HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP,v),""!==f[n+1]&&(f[n+1]=this._strongNotEscaped(f[n+1],!1)),d+=g+f[n+1];a.addPreTagToPreserveWhiteSpace&&(d='\x3cspan style\x3d"white-space: pre"\x3e'+d+"\x3c/span\x3e");return d},_strongNotEscaped:function(b,c){var a="",d=b.match(this.STRONG_ESCAPE_REGEXP),f=b.split(this.STRONG_ESCAPE_REGEXP),e=function(a){return a};c&&(e=this.escapeWhitespace);c=0;if(null!==d&&0!==d.length)for(a=e(this.escapeHtml(f[0])),c=
0;c<d.length;c+=1)a+=d[c]+e(this.escapeHtml(f[c+1]));else a=e(this.escapeHtml(b));return a},escapeWhitespace:function(b){f.deprecated({deprecated:{module:"mw-html-utils/HtmlUtils",method:"escapeWhitespace"},replacement:{module:"Plain HTML",method:'Set class as white-space: pre or use \x3cspan style\x3d"white-space: pre"\x3e...\x3c/span\x3e'}});return(b||"").replace(/\n/g,"\x3cbr\x3e").replace(/ {2}/g,"\x26nbsp;\x26nbsp;")},handleAnchors:function(b,c){if(c.target.href){c.preventDefault();c.stopPropagation();
var a=c.target.href;-1!==a.indexOf("matlab:")?"matlab:"===a.substring(0,7)&&(c=c.target.href.substring(7),b(window.unescape(c))):window.open(c.target.href)}},isElementOverflown:function(b){return b.scrollHeight>b.clientHeight||b.scrollWidth>b.clientWidth},sanitizeHtmlFromJava:h.sanitizeHtmlFromJava}})},"mw-html-utils/_parseHtml/sanitize":function(){define([],function(){var g="backgroundColor borderBottom borderBottomColor borderBottomLeftRadius borderBottomRightRadius borderBottomStyle borderBottomWidth borderLeft borderLeftColor borderLeftStyle borderLeftWidth borderRadius borderRight borderRightColor borderRightStyle borderRightWidth borderSpacing borderStyle borderTop borderTopColor borderTopLeftRadius borderTopRightRadius borderTopStyle borderTopWidth borderWidth color fontFamily fontSize fontStyle fontWeight height lineHeight margin marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth overflow overflowWrap overflowX overflowY padding paddingBottom paddingLeft paddingRight paddingTop textAlign textAnchor textDecoration textIndent textOverflow textShadow textTransform width".split(" "),
h=function(f,b){var c=b.getAttribute("style");if(f.style&&null!==c&&""!==c)for(c=0;c<g.length;c+=1){var a=g[c],d=b.style[a];void 0!==f.style[a]&&(f.style[a]=d)}};return{sanitizeHtmlFromJava:function(f,b,c){return function(a){var d=function(a,c){for(var d=[],e=0;e<a.length;e+=1){var f=a[e];if(c.hasAttribute(f)){var g=c.getAttribute(f),k="";if(b[f]){k=b[f];g=String.prototype.trim.call(g);var h=g.indexOf(":");0>h&&k.relative[g.charAt(0)]?k=g:(h=g.substring(0,h),k=k[h+":"]?g:"#")}else k=g;d.push({key:f,
value:k})}}return d},g=function(a){var b=void 0;a.nodeType===window.Node.ELEMENT_NODE?f[a.tagName]?(b=document.createElement(a.tagName),d(f[a.tagName],a).forEach(function(a){b.setAttribute(a.key,a.value)}),c&&h(b,a)):b=document.createDocumentFragment():b=a.nodeType===window.Node.TEXT_NODE?document.createTextNode(a.textContent):document.createDocumentFragment();return b},e=function v(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,c=document.createDocumentFragment();if(150<b||!a)return c;
for(var d=a.firstChild;d;d=d.nextSibling){var e=g(d);d.nodeType===window.Node.ELEMENT_NODE&&e.appendChild(v(d,b+1));c.appendChild(e)}return c};a=(new DOMParser).parseFromString(a,"text/html");var l=void 0;return l=a.body?e(a.body):document.createDocumentFragment()}}({A:["target","href","title"],ABBR:["title"],ADDRESS:[],AREA:["shape","coords","href","alt"],ARTICLE:[],ASIDE:[],AUDIO:["autoplay","controls","loop","preload","src"],B:[],BDI:["dir"],BDO:["dir"],BIG:[],BLOCKQUOTE:["cite"],BR:[],CAPTION:[],
CENTER:[],CITE:[],CODE:[],COL:["align","valign","span","width"],COLGROUP:["align","valign","span","width"],DD:[],DEL:["datetime"],DETAILS:["open"],DIV:[],DL:[],DT:[],EM:[],FONT:["color","size","face"],FOOTER:[],H1:[],H2:[],H3:[],H4:[],H5:[],H6:[],HEADER:[],HR:[],I:[],IMG:["src","alt","title","width","height"],INS:["datetime"],LI:[],MARK:[],NAV:[],OL:[],P:[],PRE:[],S:[],SECTION:[],SMALL:[],SPAN:[],SUB:[],SUP:[],STRONG:[],TABLE:["width","border","align","valign"],TBODY:["align","valign"],TD:["width",
"rowspan","colspan","align","valign"],TFOOT:["align","valign"],TH:["width","rowspan","colspan","align","valign"],THEAD:["align","valign"],TR:["rowspan","align","valign"],TT:[],U:[],UL:[],VIDEO:"autoplay controls loop preload src height width".split(" ")},{href:{"http:":!0,"https:":!0,"mailto:":!0,"matlab:":!0,relative:{"#":!0,"/":!0}},src:{"http:":!0,"https:":!0,"mailto:":!0,relative:{"#":!0,"/":!0}}},!0)}})},"mw-deprecation-utils/deprecation":function(){define(["dojo/_base/config","mw-log/Log"],
function(g,h){var f={deprecated:function(b){if((g.isDebug||window.showDeprecationsAsErrors)&&this._isConfigValid(b)){var c=window.showDeprecationsAsErrors||b.deprecationLevel===this.ERROR?this.ERROR:this.WARN;var a="DEPRECATED: ";b.deprecated&&(a+=b.deprecated.module,b.deprecated.method&&(a+="."+b.deprecated.method+"()"),a+=".");b.replacement&&(a+=" Use "+b.replacement.module,b.replacement.method&&(a+="."+b.replacement.method+"()"),a+=" instead.");b.removalVersion&&(a+=" Will be removed in version: "+
b.removalVersion+".");b.geckNumber&&(a+=" Please use g"+b.geckNumber+" to track latest information regarding this deprecation");b.additionalInformation&&(a+=" "+b.additionalInformation);h[c](a)}},_isConfigValid:function(b){var c=!!b.deprecated&&"object"===typeof b.deprecated&&b.deprecated.hasOwnProperty("module");b.replacement&&(c=c&&"object"===typeof b.replacement&&b.replacement.hasOwnProperty("module"));b.geckNumber&&(c=c&&"number"===typeof b.geckNumber);c||h.error("Supplied deprecationConfig properties are not valid. Please refer to http://inside.mathworks.com/wiki/Web_Widgets_Deprecation_API for right API");
return c}};Object.defineProperties(f,{WARN:{value:"warn",enumerable:!0},ERROR:{value:"error",enumerable:!0}});return f})},"mw-remote/serviceRegistryLookup":function(){define(["dojo/request/xhr","mw-html-utils/HtmlUtils"],function(g,h){var f=!1,b={_serviceData:{},getServiceRegistryEndpoint:function(a){if(b._serviceData.serviceregistry){var c;var d=b._serviceData.serviceregistry.length;for(c=0;c<d;c+=1)if(b._serviceData.serviceregistry[c].name===a)return b._serviceData.serviceregistry[c].endpoint}return""}},
c=function(a){var b=h.parseQueryString().mre;if(b){var c=new URL(b,window.location.href);var d=c.origin===window.location.origin?!0:!1;if(d){b=c.href;c=a.serviceregistry;c=Array.isArray(c)?c:[];var f=!1;c.forEach(function(a){a.name&&"primary"===a.name&&(a.endpoint=b,f=!0)});f||(c.push({name:"primary",endpoint:b}),a.serviceregistry=c)}}return a},a={_doXhr:function(a,b){return g(a,{handleAs:"json",failOk:!0,method:"GET",timeout:15E3,sync:b})},_reset:function(){f=!1;b._serviceData={}},load:function(d,
g,e){f?e(b):a._doXhr("/serviceregistrylookup/1/service",!g.async).then(function(a){a instanceof Object||(a={});b._serviceData=c(a);f=!0;e(b)},function(){b._serviceData=c({});f=!0;e(b)})}};return a})}}});define("richcontent_preview_plugin/richcontent_preview_plugin",[],1);